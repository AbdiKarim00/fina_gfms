
   INFO  Seeding database.  

  Database\Seeders\RolePermissionSeeder .............................. RUNNING  
✓ Roles and permissions created successfully!
  - 12 roles created
  - 51 permissions created
  Database\Seeders\RolePermissionSeeder ........................ 2,731 ms DONE  

  Database\Seeders\OrganizationSeeder ................................ RUNNING  
✓ Organizations seeded successfully!
  - 3 ministries created
  - 3 counties created
  Database\Seeders\OrganizationSeeder ............................. 51 ms DONE  

  Database\Seeders\UserSeeder ........................................ RUNNING  

   Illuminate\Database\QueryException 

  SQLSTATE[42703]: Undefined column: 7 ERROR:  column "event" of relation "activity_log" does not exist
LINE 1: ...ity_log" ("log_name", "properties", "batch_uuid", "event", "...
                                                             ^ (Connection: pgsql, SQL: insert into "activity_log" ("log_name", "properties", "batch_uuid", "event", "subject_id", "subject_type", "description", "updated_at", "created_at") values (default, {"attributes":{"personal_number":"100000","name":"Super Administrator","email":"superadmin@gfms.go.ke","phone":"+254700000000","organization_id":"0c96070e-7893-4022-9329-ae57ef2c08df","is_active":true,"job_group":"Administrative","position":"System Administrator","hierarchical_level":1}}, ?, created, fb84c685-e492-466e-973d-486cc3eaacb6, App\Models\User, created, 2025-12-19 11:26:36, 2025-12-19 11:26:36) returning "id")

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821▕                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822▕                 );
    823▕             }
    824▕ 
  ➜ 825▕             throw new QueryException(
    826▕                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827▕             );
    828▕         }
    829▕     }

  1   vendor/laravel/framework/src/Illuminate/Database/Connection.php:412
      PDOException::("SQLSTATE[42703]: Undefined column: 7 ERROR:  column "event" of relation "activity_log" does not exist
LINE 1: ...ity_log" ("log_name", "properties", "batch_uuid", "event", "...
                                                             ^")

  2   vendor/laravel/framework/src/Illuminate/Database/Connection.php:412
      PDOStatement::execute()

  3   vendor/laravel/framework/src/Illuminate/Database/Connection.php:812
      Illuminate\Database\Connection::Illuminate\Database\{closure}("insert into "activity_log" ("log_name", "properties", "batch_uuid", "event", "subject_id", "subject_type", "description", "updated_at", "created_at") values (?, ?, ?, ?, ?, ?, ?, ?, ?) returning "id"")

  4   vendor/laravel/framework/src/Illuminate/Database/Connection.php:779
      Illuminate\Database\Connection::runQueryCallback("insert into "activity_log" ("log_name", "properties", "batch_uuid", "event", "subject_id", "subject_type", "description", "updated_at", "created_at") values (?, ?, ?, ?, ?, ?, ?, ?, ?) returning "id"", Object(Closure))

  5   vendor/laravel/framework/src/Illuminate/Database/Connection.php:398
      Illuminate\Database\Connection::run("insert into "activity_log" ("log_name", "properties", "batch_uuid", "event", "subject_id", "subject_type", "description", "updated_at", "created_at") values (?, ?, ?, ?, ?, ?, ?, ?, ?) returning "id"", Object(Closure))

  6   vendor/laravel/framework/src/Illuminate/Database/Connection.php:385
      Illuminate\Database\Connection::select("insert into "activity_log" ("log_name", "properties", "batch_uuid", "event", "subject_id", "subject_type", "description", "updated_at", "created_at") values (?, ?, ?, ?, ?, ?, ?, ?, ?) returning "id"")

  7   vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
      Illuminate\Database\Connection::selectFromWriteConnection("insert into "activity_log" ("log_name", "properties", "batch_uuid", "event", "subject_id", "subject_type", "description", "updated_at", "created_at") values (?, ?, ?, ?, ?, ?, ?, ?, ?) returning "id"")

  8   vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3766
      Illuminate\Database\Query\Processors\PostgresProcessor::processInsertGetId(Object(Illuminate\Database\Query\Builder), "insert into "activity_log" ("log_name", "properties", "batch_uuid", "event", "subject_id", "subject_type", "description", "updated_at", "created_at") values (?, ?, ?, ?, ?, ?, ?, ?, ?) returning "id"", "id")

  9   vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2120
      Illuminate\Database\Query\Builder::insertGetId("id")

  10  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1359
      Illuminate\Database\Eloquent\Builder::__call("insertGetId")

  11  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1324
      Illuminate\Database\Eloquent\Model::insertAndSetId(Object(Illuminate\Database\Eloquent\Builder))

  12  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
      Illuminate\Database\Eloquent\Model::performInsert(Object(Illuminate\Database\Eloquent\Builder))

  13  vendor/spatie/laravel-activitylog/src/ActivityLogger.php:174
      Illuminate\Database\Eloquent\Model::save()

  14  vendor/spatie/laravel-activitylog/src/Traits/LogsActivity.php:88
      Spatie\Activitylog\ActivityLogger::log("created")

  15  vendor/laravel/framework/src/Illuminate/Events/Dispatcher.php:459
      App\Models\User::Spatie\Activitylog\Traits\{closure}(Object(App\Models\User))

  16  vendor/laravel/framework/src/Illuminate/Events/Dispatcher.php:287
      Illuminate\Events\Dispatcher::Illuminate\Events\{closure}("eloquent.created: App\Models\User")

  17  vendor/laravel/framework/src/Illuminate/Events/Dispatcher.php:267
      Illuminate\Events\Dispatcher::invokeListeners("eloquent.created: App\Models\User")

  18  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasEvents.php:224
      Illuminate\Events\Dispatcher::dispatch("eloquent.created: App\Models\User")

  19  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1345
      Illuminate\Database\Eloquent\Model::fireModelEvent("created")

  20  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1163
      Illuminate\Database\Eloquent\Model::performInsert(Object(Illuminate\Database\Eloquent\Builder))

  21  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1128
      Illuminate\Database\Eloquent\Model::save()

  22  vendor/laravel/framework/src/Illuminate/Support/helpers.php:399
      Illuminate\Database\Eloquent\Builder::Illuminate\Database\Eloquent\{closure}(Object(App\Models\User))
  23  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1127

  24  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:634
      Illuminate\Database\Eloquent\Builder::create()

  25  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1864
      Illuminate\Database\Eloquent\Builder::Illuminate\Database\Eloquent\{closure}()

  26  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:634
      Illuminate\Database\Eloquent\Builder::withSavepointIfNeeded(Object(Closure))

  27  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:621
      Illuminate\Database\Eloquent\Builder::createOrFirst(["100000"])

  28  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:649
      Illuminate\Database\Eloquent\Builder::firstOrCreate(["100000"])

  29  vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
      Illuminate\Database\Eloquent\Builder::updateOrCreate(["100000"])

  30  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2372
      Illuminate\Database\Eloquent\Model::forwardCallTo(Object(Illuminate\Database\Eloquent\Builder), "updateOrCreate")

  31  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2384
      Illuminate\Database\Eloquent\Model::__call("updateOrCreate")

  32  database/seeders/UserSeeder.php:110
      Illuminate\Database\Eloquent\Model::__callStatic("updateOrCreate")

  33  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:36
      Database\Seeders\UserSeeder::run()

  34  vendor/laravel/framework/src/Illuminate/Container/Util.php:43
      Illuminate\Container\BoundMethod::Illuminate\Container\{closure}()

  35  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:95
      Illuminate\Container\Util::unwrapIfClosure(Object(Closure))

  36  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:35
      Illuminate\Container\BoundMethod::callBoundMethod(Object(Illuminate\Foundation\Application), Object(Closure))

  37  vendor/laravel/framework/src/Illuminate/Container/Container.php:696
      Illuminate\Container\BoundMethod::call(Object(Illuminate\Foundation\Application), [])

  38  vendor/laravel/framework/src/Illuminate/Database/Seeder.php:188
      Illuminate\Container\Container::call([])

  39  vendor/laravel/framework/src/Illuminate/Database/Seeder.php:197
      Illuminate\Database\Seeder::Illuminate\Database\{closure}()

  40  vendor/laravel/framework/src/Illuminate/Database/Seeder.php:61
      Illuminate\Database\Seeder::__invoke([])

  41  database/seeders/DatabaseSeeder.php:15
      Illuminate\Database\Seeder::call("Database\Seeders\UserSeeder")

  42  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:36
      Database\Seeders\DatabaseSeeder::run()

  43  vendor/laravel/framework/src/Illuminate/Container/Util.php:43
      Illuminate\Container\BoundMethod::Illuminate\Container\{closure}()

  44  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:95
      Illuminate\Container\Util::unwrapIfClosure(Object(Closure))

  45  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:35
      Illuminate\Container\BoundMethod::callBoundMethod(Object(Illuminate\Foundation\Application), Object(Closure))

  46  vendor/laravel/framework/src/Illuminate/Container/Container.php:696
      Illuminate\Container\BoundMethod::call(Object(Illuminate\Foundation\Application), [])

  47  vendor/laravel/framework/src/Illuminate/Database/Seeder.php:188
      Illuminate\Container\Container::call([])

  48  vendor/laravel/framework/src/Illuminate/Database/Seeder.php:197
      Illuminate\Database\Seeder::Illuminate\Database\{closure}()

  49  vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php:70
      Illuminate\Database\Seeder::__invoke()

  50  vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/GuardsAttributes.php:155
      Illuminate\Database\Console\Seeds\SeedCommand::Illuminate\Database\Console\Seeds\{closure}()

  51  vendor/laravel/framework/src/Illuminate/Database/Console/Seeds/SeedCommand.php:69
      Illuminate\Database\Eloquent\Model::unguarded(Object(Closure))

  52  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:36
      Illuminate\Database\Console\Seeds\SeedCommand::handle()

  53  vendor/laravel/framework/src/Illuminate/Container/Util.php:43
      Illuminate\Container\BoundMethod::Illuminate\Container\{closure}()

  54  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:95
      Illuminate\Container\Util::unwrapIfClosure(Object(Closure))

  55  vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php:35
      Illuminate\Container\BoundMethod::callBoundMethod(Object(Illuminate\Foundation\Application), Object(Closure))

  56  vendor/laravel/framework/src/Illuminate/Container/Container.php:696
      Illuminate\Container\BoundMethod::call(Object(Illuminate\Foundation\Application), [])

  57  vendor/laravel/framework/src/Illuminate/Console/Command.php:213
      Illuminate\Container\Container::call()

  58  vendor/symfony/console/Command/Command.php:335
      Illuminate\Console\Command::execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Illuminate\Console\OutputStyle))

  59  vendor/laravel/framework/src/Illuminate/Console/Command.php:182
      Symfony\Component\Console\Command\Command::run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Illuminate\Console\OutputStyle))

  60  vendor/symfony/console/Application.php:1103
      Illuminate\Console\Command::run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  61  vendor/symfony/console/Application.php:356
      Symfony\Component\Console\Application::doRunCommand(Object(Illuminate\Database\Console\Seeds\SeedCommand), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  62  vendor/symfony/console/Application.php:195
      Symfony\Component\Console\Application::doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  63  vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php:198
      Symfony\Component\Console\Application::run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

  64  artisan:52
      Illuminate\Foundation\Console\Kernel::handle(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))

