import{a as L,j as e}from"./index-BNoKYiTL.js";import{a}from"./react-vendor-OZCXxi_L.js";import{S as d,l as g,m as i,T as A,B as n,p as E,i as v,I as M,q as D,r as x,s as B,d as P,t as w,u as h,v as q,w as H,x as K}from"./antd-vendor-BlEHCuuL.js";const{Title:N,Text:u}=A,{Option:l}=x,G=()=>{const[j,C]=a.useState([]),[S,T]=a.useState([]),[k,m]=a.useState(!0),[r,y]=a.useState(""),[c,p]=a.useState("all"),[o,f]=a.useState("all");a.useEffect(()=>{F()},[]),a.useEffect(()=>{b()},[j,r,c,o]);const F=async()=>{try{m(!0);const t=await L.get("/vehicles");C(t.data||[])}catch(t){console.error("Failed to fetch vehicles:",t)}finally{m(!1)}},b=()=>{let t=[...j];r&&(t=t.filter(s=>s.registration_number.toLowerCase().includes(r.toLowerCase())||s.make.toLowerCase().includes(r.toLowerCase())||s.model.toLowerCase().includes(r.toLowerCase()))),c!=="all"&&(t=t.filter(s=>s.status===c)),o!=="all"&&(t=t.filter(s=>s.fuel_type===o)),T(t)},I=t=>{y(t)},$=t=>{p(t)},R=t=>{f(t)},V=()=>{y(""),p("all"),f("all")},_=t=>{switch(t){case"active":return"success";case"maintenance":return"warning";case"inactive":return"default";default:return"default"}},z=[{title:"Registration",dataIndex:"registration_number",key:"registration_number",sorter:(t,s)=>t.registration_number.localeCompare(s.registration_number),render:t=>e.jsx(u,{strong:!0,children:t})},{title:"Make & Model",key:"make_model",render:(t,s)=>e.jsxs(d,{children:[e.jsx(P,{style:{color:"#006600"}}),e.jsx(u,{children:`${s.make} ${s.model}`})]}),sorter:(t,s)=>`${t.make} ${t.model}`.localeCompare(`${s.make} ${s.model}`)},{title:"Year",dataIndex:"year",key:"year",sorter:(t,s)=>t.year-s.year,width:100},{title:"Fuel Type",dataIndex:"fuel_type",key:"fuel_type",render:t=>e.jsx(w,{color:"blue",children:t})},{title:"Status",dataIndex:"status",key:"status",render:t=>e.jsx(w,{color:_(t),children:t.toUpperCase()})},{title:"Actions",key:"actions",width:150,render:()=>e.jsxs(d,{size:"small",children:[e.jsx(h,{title:"View Details",children:e.jsx(n,{type:"text",icon:e.jsx(q,{}),size:"small"})}),e.jsx(h,{title:"Edit",children:e.jsx(n,{type:"text",icon:e.jsx(H,{}),size:"small"})}),e.jsx(h,{title:"Delete",children:e.jsx(n,{type:"text",danger:!0,icon:e.jsx(K,{}),size:"small"})})]})}];return e.jsx("div",{style:{padding:"24px"},children:e.jsxs(d,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsxs(g,{justify:"space-between",align:"middle",children:[e.jsxs(i,{children:[e.jsx(N,{level:2,style:{margin:0},children:"Vehicles"}),e.jsx(u,{type:"secondary",children:"Manage your fleet vehicles including registration, maintenance, and status"})]}),e.jsx(i,{children:e.jsx(n,{type:"primary",icon:e.jsx(E,{}),size:"large",children:"Add Vehicle"})})]}),e.jsx(v,{children:e.jsxs(g,{gutter:[16,16],children:[e.jsx(i,{xs:24,sm:12,md:8,children:e.jsx(M,{placeholder:"Search by registration, make, or model",prefix:e.jsx(D,{}),value:r,onChange:t=>I(t.target.value),allowClear:!0})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsxs(x,{style:{width:"100%"},placeholder:"Filter by Status",value:c,onChange:$,children:[e.jsx(l,{value:"all",children:"All Status"}),e.jsx(l,{value:"active",children:"Active"}),e.jsx(l,{value:"maintenance",children:"Maintenance"}),e.jsx(l,{value:"inactive",children:"Inactive"})]})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsxs(x,{style:{width:"100%"},placeholder:"Filter by Fuel Type",value:o,onChange:R,children:[e.jsx(l,{value:"all",children:"All Fuel Types"}),e.jsx(l,{value:"petrol",children:"Petrol"}),e.jsx(l,{value:"diesel",children:"Diesel"}),e.jsx(l,{value:"electric",children:"Electric"}),e.jsx(l,{value:"hybrid",children:"Hybrid"})]})}),e.jsx(i,{xs:24,sm:12,md:4,children:e.jsx(n,{onClick:V,block:!0,children:"Reset Filters"})})]})}),e.jsx(v,{children:e.jsx(B,{columns:z,dataSource:S,loading:k,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:t=>`Total ${t} vehicles`},locale:{emptyText:"No vehicles found. Add your first vehicle to get started."}})})]})})};export{G as VehiclesPageV2};
//# sourceMappingURL=VehiclesPageV2-BvyB1VB-.js.map
