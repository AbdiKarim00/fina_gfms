import{u as F,j as e}from"./index-C5ym5WiK.js";import{a as m,u as v}from"./react-vendor-DBKCBwX6.js";import{F as t,S as n,f as w,T as S,o as I,p as u,I as g,j as z,q as P,r as R}from"./antd-vendor-CNWCwjIv.js";const{Title:h,Text:r}=S,k=()=>{const[o,a]=m.useState(""),[l,i]=m.useState(!1),[x]=t.useForm(),{login:p}=F(),y=v(),j=async f=>{var c,d;a(""),i(!0);try{const s=await p(f);y("/verify-otp",{state:{userId:s.user_id,otpChannel:s.otp_channel,message:s.message}})}catch(s){console.error("Login error:",s),console.error("Response:",s.response);const b=((d=(c=s.response)==null?void 0:c.data)==null?void 0:d.message)||s.message||"Login failed. Please try again.";a(b)}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4",style:{background:"linear-gradient(135deg, #E8F5E9 0%, #FFFFFF 50%, #F1F8E9 100%)"},children:e.jsxs("div",{style:{maxWidth:450,width:"100%"},children:[e.jsxs(n,{vertical:!0,size:"large",style:{width:"100%",marginBottom:32},align:"center",children:[e.jsx("div",{style:{width:80,height:80,background:"linear-gradient(135deg, #006600 0%, #009900 100%)",borderRadius:16,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 102, 0, 0.2)"},children:e.jsx(w,{style:{fontSize:48,color:"#FFFFFF"}})}),e.jsxs(n,{vertical:!0,size:4,align:"center",children:[e.jsx(h,{level:2,style:{margin:0,color:"#000000"},children:"GFMS"}),e.jsx(r,{type:"secondary",style:{fontSize:14},children:"Kenya Government Fleet Management System"})]})]}),e.jsx(I,{style:{borderRadius:16,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.08)"},children:e.jsxs(n,{vertical:!0,size:"large",style:{width:"100%"},children:[e.jsx(h,{level:4,style:{margin:0},children:"Sign in to your account"}),o&&e.jsx(u,{title:o,type:"error",showIcon:!0,closable:!0,onClose:()=>a("")}),e.jsxs(t,{form:x,name:"login",onFinish:j,layout:"vertical",size:"large",requiredMark:!1,children:[e.jsx(t.Item,{label:"Personal Number",name:"personal_number",rules:[{required:!0,message:"Please enter your personal number"},{pattern:/^\d+$/,message:"Personal number must contain only digits"}],children:e.jsx(g,{prefix:e.jsx(z,{style:{color:"rgba(0,0,0,0.25)"}}),placeholder:"123456",autoComplete:"username"})}),e.jsx(t.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter your password"},{min:8,message:"Password must be at least 8 characters"}],children:e.jsx(g.Password,{prefix:e.jsx(P,{style:{color:"rgba(0,0,0,0.25)"}}),placeholder:"••••••••",autoComplete:"current-password"})}),e.jsx(t.Item,{style:{marginBottom:0},children:e.jsx(R,{type:"primary",htmlType:"submit",loading:l,block:!0,size:"large",style:{height:48,fontWeight:600},children:l?"Signing in...":"Sign in"})})]}),e.jsx(u,{title:e.jsxs(n,{size:"small",children:[e.jsx(r,{strong:!0,children:"Demo:"}),e.jsx(r,{code:!0,children:"123456"}),e.jsx(r,{type:"secondary",children:"/"}),e.jsx(r,{code:!0,children:"password"})]}),type:"info",showIcon:!0})]})}),e.jsx("div",{style:{marginTop:24,textAlign:"center"},children:e.jsx(r,{type:"secondary",style:{fontSize:12},children:"© 2025 Kenya Government. All rights reserved."})})]})})};export{k as LoginPage};
//# sourceMappingURL=LoginPage-Cl_OONYN.js.map
