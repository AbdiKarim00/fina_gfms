{"version":3,"file":"VehiclesPageV2-BvyB1VB-.js","sources":["../../src/pages/VehiclesPageV2.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  Table,\n  Input,\n  Button,\n  Space,\n  Tag,\n  Card,\n  Row,\n  Col,\n  Select,\n  Typography,\n  Tooltip,\n} from 'antd';\nimport {\n  SearchOutlined,\n  PlusOutlined,\n  EyeOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  CarOutlined,\n} from '@ant-design/icons';\nimport type { ColumnsType } from 'antd/es/table';\nimport { apiClient } from '../services/api';\nimport { Vehicle } from '../types';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\nexport const VehiclesPageV2: React.FC = () => {\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\n  const [filteredVehicles, setFilteredVehicles] = useState<Vehicle[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchText, setSearchText] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [fuelTypeFilter, setFuelTypeFilter] = useState<string>('all');\n\n  useEffect(() => {\n    fetchVehicles();\n  }, []);\n\n  useEffect(() => {\n    filterVehicles();\n  }, [vehicles, searchText, statusFilter, fuelTypeFilter]);\n\n  const fetchVehicles = async () => {\n    try {\n      setLoading(true);\n      const data = await apiClient.get<{ data: Vehicle[] }>('/vehicles');\n      setVehicles(data.data || []);\n    } catch (err: any) {\n      console.error('Failed to fetch vehicles:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterVehicles = () => {\n    let filtered = [...vehicles];\n\n    // Search filter\n    if (searchText) {\n      filtered = filtered.filter(\n        (vehicle) =>\n          vehicle.registration_number.toLowerCase().includes(searchText.toLowerCase()) ||\n          vehicle.make.toLowerCase().includes(searchText.toLowerCase()) ||\n          vehicle.model.toLowerCase().includes(searchText.toLowerCase())\n      );\n    }\n\n    // Status filter\n    if (statusFilter !== 'all') {\n      filtered = filtered.filter((vehicle) => vehicle.status === statusFilter);\n    }\n\n    // Fuel type filter\n    if (fuelTypeFilter !== 'all') {\n      filtered = filtered.filter((vehicle) => vehicle.fuel_type === fuelTypeFilter);\n    }\n\n    setFilteredVehicles(filtered);\n  };\n\n  const handleSearch = (value: string) => {\n    setSearchText(value);\n  };\n\n  const handleStatusChange = (value: string) => {\n    setStatusFilter(value);\n  };\n\n  const handleFuelTypeChange = (value: string) => {\n    setFuelTypeFilter(value);\n  };\n\n  const handleReset = () => {\n    setSearchText('');\n    setStatusFilter('all');\n    setFuelTypeFilter('all');\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active':\n        return 'success';\n      case 'maintenance':\n        return 'warning';\n      case 'inactive':\n        return 'default';\n      default:\n        return 'default';\n    }\n  };\n\n  const columns: ColumnsType<Vehicle> = [\n    {\n      title: 'Registration',\n      dataIndex: 'registration_number',\n      key: 'registration_number',\n      sorter: (a, b) => a.registration_number.localeCompare(b.registration_number),\n      render: (text) => <Text strong>{text}</Text>,\n    },\n    {\n      title: 'Make & Model',\n      key: 'make_model',\n      render: (_, record) => (\n        <Space>\n          <CarOutlined style={{ color: '#006600' }} />\n          <Text>{`${record.make} ${record.model}`}</Text>\n        </Space>\n      ),\n      sorter: (a, b) => `${a.make} ${a.model}`.localeCompare(`${b.make} ${b.model}`),\n    },\n    {\n      title: 'Year',\n      dataIndex: 'year',\n      key: 'year',\n      sorter: (a, b) => a.year - b.year,\n      width: 100,\n    },\n    {\n      title: 'Fuel Type',\n      dataIndex: 'fuel_type',\n      key: 'fuel_type',\n      render: (fuelType) => <Tag color=\"blue\">{fuelType}</Tag>,\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n      key: 'status',\n      render: (status) => <Tag color={getStatusColor(status)}>{status.toUpperCase()}</Tag>,\n    },\n    {\n      title: 'Actions',\n      key: 'actions',\n      width: 150,\n      render: () => (\n        <Space size=\"small\">\n          <Tooltip title=\"View Details\">\n            <Button type=\"text\" icon={<EyeOutlined />} size=\"small\" />\n          </Tooltip>\n          <Tooltip title=\"Edit\">\n            <Button type=\"text\" icon={<EditOutlined />} size=\"small\" />\n          </Tooltip>\n          <Tooltip title=\"Delete\">\n            <Button type=\"text\" danger icon={<DeleteOutlined />} size=\"small\" />\n          </Tooltip>\n        </Space>\n      ),\n    },\n  ];\n\n  return (\n    <div style={{ padding: '24px' }}>\n      <Space direction=\"vertical\" size=\"large\" style={{ width: '100%' }}>\n        {/* Header */}\n        <Row justify=\"space-between\" align=\"middle\">\n          <Col>\n            <Title level={2} style={{ margin: 0 }}>\n              Vehicles\n            </Title>\n            <Text type=\"secondary\">\n              Manage your fleet vehicles including registration, maintenance, and status\n            </Text>\n          </Col>\n          <Col>\n            <Button type=\"primary\" icon={<PlusOutlined />} size=\"large\">\n              Add Vehicle\n            </Button>\n          </Col>\n        </Row>\n\n        {/* Filters */}\n        <Card>\n          <Row gutter={[16, 16]}>\n            <Col xs={24} sm={12} md={8}>\n              <Input\n                placeholder=\"Search by registration, make, or model\"\n                prefix={<SearchOutlined />}\n                value={searchText}\n                onChange={(e) => handleSearch(e.target.value)}\n                allowClear\n              />\n            </Col>\n            <Col xs={24} sm={12} md={6}>\n              <Select\n                style={{ width: '100%' }}\n                placeholder=\"Filter by Status\"\n                value={statusFilter}\n                onChange={handleStatusChange}\n              >\n                <Option value=\"all\">All Status</Option>\n                <Option value=\"active\">Active</Option>\n                <Option value=\"maintenance\">Maintenance</Option>\n                <Option value=\"inactive\">Inactive</Option>\n              </Select>\n            </Col>\n            <Col xs={24} sm={12} md={6}>\n              <Select\n                style={{ width: '100%' }}\n                placeholder=\"Filter by Fuel Type\"\n                value={fuelTypeFilter}\n                onChange={handleFuelTypeChange}\n              >\n                <Option value=\"all\">All Fuel Types</Option>\n                <Option value=\"petrol\">Petrol</Option>\n                <Option value=\"diesel\">Diesel</Option>\n                <Option value=\"electric\">Electric</Option>\n                <Option value=\"hybrid\">Hybrid</Option>\n              </Select>\n            </Col>\n            <Col xs={24} sm={12} md={4}>\n              <Button onClick={handleReset} block>\n                Reset Filters\n              </Button>\n            </Col>\n          </Row>\n        </Card>\n\n        {/* Table */}\n        <Card>\n          <Table\n            columns={columns}\n            dataSource={filteredVehicles}\n            loading={loading}\n            rowKey=\"id\"\n            pagination={{\n              pageSize: 10,\n              showSizeChanger: true,\n              showTotal: (total) => `Total ${total} vehicles`,\n            }}\n            locale={{\n              emptyText: 'No vehicles found. Add your first vehicle to get started.',\n            }}\n          />\n        </Card>\n      </Space>\n    </div>\n  );\n};\n"],"names":["Title","Text","Typography","Option","Select","VehiclesPageV2","vehicles","setVehicles","useState","filteredVehicles","setFilteredVehicles","loading","setLoading","searchText","setSearchText","statusFilter","setStatusFilter","fuelTypeFilter","setFuelTypeFilter","useEffect","fetchVehicles","filterVehicles","data","apiClient","err","filtered","vehicle","handleSearch","value","handleStatusChange","handleFuelTypeChange","handleReset","getStatusColor","status","columns","a","b","text","_","record","Space","jsx","CarOutlined","fuelType","Tag","jsxs","Tooltip","Button","EyeOutlined","EditOutlined","DeleteOutlined","Row","Col","PlusOutlined","Card","Input","SearchOutlined","e","Table","total"],"mappings":"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"}